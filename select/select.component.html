<ng-container *ngIf="!isLoading">
    <form [formGroup]="fieldForm">
        <mat-form-field class="w-full">
            <mat-label>{{ data.name | transloco }}</mat-label>
            <mat-select [multiple]="multiple" formControlName="list" [(ngModel)]="selectedList" placeholder="Select {{data.name}}" (selectionChange)="selectList($event.value)">
                <mat-option>
                    <ngx-mat-select-search [formControl]="listFilterCtrl" placeholderLabel="Search..." noEntriesFoundLabel="{{data.name}} not found"></ngx-mat-select-search>
                </mat-option>
                <mat-option *ngIf="multiple" #allSelected (click)="toggleAllSelection()" [value]="0">{{'select_all' | transloco}}</mat-option>
                <mat-option *ngFor="let item of filteredLists | async" [value]="item.id"
                (click)="select(item)">{{item.name}}</mat-option>
            </mat-select>
        </mat-form-field>
        </form>
</ng-container>